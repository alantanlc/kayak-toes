<div class="container mt-3">
    <div class="mat-subheading-2">Leaderboard</div>
    <mat-divider></mat-divider>

    <ul class="nav mt-3" *ngIf="categories">
        <li class="nav-item">
            <a *ngFor="let category of categories" [class.active]="isFirstCategory(category)" class="nav-link d-inline" id="{{category.value}}-tab" data-toggle="tab" (click)="filterByCategory(category.value)" href="#" role="tab">
                {{ category.key }}
            </a>
        </li>
    </ul>

    <!-- Empty data -->
    <div *ngIf="dataSource.data.length === 0" class="mat-subheading-2 mt-5">No records</div>

    <table *ngIf="dataSource.data.length !== 0" mat-table [dataSource]="dataSource" matSort matSortActive="result" matSortDirection="asc" class="mat-elevation-z0">

        <!-- Affiliate Column -->
        <ng-container matColumnDef="affiliate">
            <th mat-header-cell *matHeaderCellDef> Affiliate </th>
            <td mat-cell *matCellDef="let record">
                <img src="{{record.athlete.affiliate.photo}}" class="avatar-sm" matTooltip="{{record.athlete.affiliate.displayName}}">
            </td>
        </ng-container>

        <!-- Athlete Column -->
        <ng-container matColumnDef="athlete">
            <th mat-header-cell *matHeaderCellDef> Athlete </th>
            <td mat-cell *matCellDef="let record">
                <a routerLink="/athletes/{{record.athlete.displayName}}" class="text-dark">{{record.athlete.firstName + ' ' + record.athlete.lastName}}</a>
            </td>
        </ng-container>

        <!-- Boat Column -->
        <ng-container matColumnDef="boat">
            <th mat-header-cell *matHeaderCellDef> Boat </th>
            <td mat-cell *matCellDef="let record"> {{record.boat.displayName}} </td>
        </ng-container>

        <!-- DateTime Column -->
        <ng-container matColumnDef="datetime">
            <th mat-header-cell *matHeaderCellDef> DateTime </th>
            <td mat-cell *matCellDef="let record"> {{record.dateTime | date:'mediumDate'}} </td>
        </ng-container>

        <!-- Result Column -->
        <ng-container matColumnDef="result">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Result </th>
            <td mat-cell *matCellDef="let record"> {{record.result}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

</div>